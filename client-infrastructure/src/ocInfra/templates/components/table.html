<div class="col-md-12">
	<table st-table="displayedItems" st-safe-src="items" class="table table-striped table-condensed">
		<thead>
			<tr>
				<th ng-repeat="column in metamodelObject.properties" ng-show="isVisible(column)">{{ column.label_header | translate }}</th>
			</tr>
			<tr ng-show="metamodelObject.searching">
				<th colspan="{{metamodelObject.properties.length}}">
					<input st-search placeholder="Enter text to search ..." class="input-sm form-control" type="search"/>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="displayedItem in displayedItems track by $index">
				<td ng-repeat="field in metamodelObject.properties">
		            <ng-switch on="field.type">
		                <span ng-switch-when="label">
		                    <span>{{ displayedItem.properties[field.id].value }}</span>
		                </span>
 						<span ng-switch-when="multilabel">
		                    <span ng-repeat="fieldId in field.id track by $index">{{ displayedItem.properties[fieldId].value }}&nbsp;</span>
		                </span>
		                <span ng-switch-when="date">{{ displayedItem.properties[field.id].value | date:field.format }}</span>
		                <span ng-switch-when="literal">{{ field.id | translate }}</span>
		                <span ng-switch-when="blank">&nbsp;</span>
		                <span ng-switch-when="status"><i class="{{isValidStatus(displayedItem) ? 'fa fa-check-square text-success':'fa fa-minus-square text-danger'}}"></i></span>
		                <span ng-switch-when="icon">
		                	<span ng-if="field.icon" class="{{field.icon}} iconText"></span>	
		                	<span ng-if="!field.icon" class="{{metamodelObject.iconList[displayedItem.properties[field.id].value]}} iconText"></span>		
		                </span>

		                 <span ng-switch-when="actions">
		                	<span ng-repeat="action in field.options">
		                		<ng-switch on="action.value">
						            <span ng-switch-when="edit">
						                <a><i data-toggle="modal" data-target="#modal_{{metamodelObject.name}}" class="action {{action.icon}}" ng-class="action.icon? 'actionIcon':''" ng-click="execute(action, displayedItem)"><span ng-if="!action.icon">{{action.title | translate }}</span></i>
						               </a>
						            </span>
						            <span ng-switch-when="delete">
						                <a><i class="action {{action.icon}}" ng-class="action.icon? 'actionIcon':''" ng-click="execute(action, displayedItem)" ng-show="displayedItem.deletable"><span ng-if="!action.icon">{{action.title | translate }}</span></i>
						                </a>
						            </span>
						            <span ng-switch-default>
						            	<a><i class="action {{action.icon}}" ng-class="action.icon? 'actionIcon':''" ng-click="execute(action, displayedItem)"><span ng-if="!action.icon">{{action.title | translate }}</span></i>
						            	</a>
						            </span>
						        </span>
				        	</span>
		                </span>

		            </ng-switch>
		            
				</td>
			<tr>
		</tbody>
		<tfoot ng-if="metamodelObject.pagination">
			<tr>
				<td colspan="{{metamodelObject.properties.length}}">
					<div class="pull-right" st-pagination="" st-items-by-page="5" st-displayed-pages="7"></div>
				</td>
			</tr>
		</tfoot>
	</table>

	<div>
		<span ng-if="metamodelObject.buttonLabel">
		    <button data-toggle="modal" data-target="#modal_{{metamodelObject.name}}" ng-click="execute({ value: 'add', buttonAction: true })" class="btn btn-primary btn-mg" ng-disabled="!resultSet[resourceUrl].creatable">
		    	{{ metamodelObject.buttonLabel | translate }}
		    </button>
		</span>
	</div>

	<!--<popup ui-id="modal_{{metamodelObject.name}}" entity="itemSelected.entity" ui-metadata="tableMetadataSelected.modalRef"></popup>-->
</div>