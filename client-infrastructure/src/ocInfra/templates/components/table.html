<div class="no-padding col-xs-12">
	<!-- Colspan is controlled in the renderer.html. Here we 'hardcode' a colspan of 12 columns to ensure the table uses all the available width -->
	<div ng-if="metamodelObject.showResultCount" name="table-header" class="row">
    	<label class="pull-left">{{ '_RESULTS' | translate }} :  {{table.items.length}}</label>
	</div>
	<table st-table="displayedItems" st-safe-src="table.items" class="table table-striped table-condensed cf">
		<thead ng-if="metamodelObject.header !== false" class="cf table-header">
			<tr ng-show="metamodelObject.searching">
				<th colspan="{{metamodelObject.properties.length}}" class="no-padding">
					<input st-search placeholder="{{ '_FILTER_RESULTS' | translate }}" class="input-sm form-control" type="search"/>
				</th>
			</tr>
			<!-- OC-711 Start Added Column Lable Header-->
			<tr>
				<th ng-repeat="column in metamodelObject.properties" ng-attr-style="text-align : {{column.align}}; width: {{column.width}} !important; ">{{ column.label_header | translate }}</th>
			</tr>
			<!-- OC-711 End -->
		</thead>
		<tbody>
			<tr class="table-row-{{$index}}" ng-repeat="displayedItem in displayedItems track by $index">
				<td id="field.uid" ng-repeat="field in metamodelObject.properties" class="table-cell {{field.class}}" ng-attr-style="text-align : {{field.align}}; width: {{field.width}} !important;">
		            <ng-switch on="field.type">
 						<span ng-switch-when="label" class="table-cell-label">
 							<span ng-repeat="fieldId in field.id track by $index" ng-if="displayedItem.properties[fieldId]">
	 							<ng-switch on="displayedItem.properties[fieldId].metainfo.format">
					 		        <span ng-switch-when="date">
										{{ displayedItem.properties[fieldId].value | date:field.format }}&nbsp;
									</span>
									<span ng-switch-default>
	 									<span ng-if="field.format">{{ displayedItem.properties[fieldId].value | date:field.format | translate }}&nbsp;</span>
	 									<span ng-if="!field.format">{{ displayedItem.properties[fieldId].value | translate }}&nbsp;</span>
	 								</span>
	 							</ng-switch>
 							</span>
		                </span>
		                <span ng-switch-when="literal" class="table-cell-literal">{{ field.id | translate }}</span>
		                <span ng-switch-when="blank" class="table-cell-blank">&nbsp;</span>
		                <span ng-switch-when="status" class="table-cell-status"><i class="{{isValidStatus(displayedItem) ? 'fa fa-check-square text-success':'fa fa-minus-square text-danger'}}"></i></span>
		                <span ng-switch-when="icon">
		                	<span ng-if="field.icon" class="{{field.icon}} iconText"></span>	
		                	<span ng-if="!field.icon" class="{{metamodelObject.iconList[displayedItem.properties[field.id].value]}} iconText"></span>		
		                </span>
		                <span ng-switch-when="actions" class="table-cell-actions">
		                	<span ng-repeat="action in field.options">
		                		<ng-switch on="action.value">
						            <span ng-switch-when="edit">
						                <a><i data-toggle="modal" data-target="#modal_{{metamodelObject.name}}" class="action {{action.icon}}" ng-class="action.icon? 'actionIcon':''" ng-click="execute(action, displayedItem)"><span ng-if="!action.icon">{{action.title | translate }}</span></i>
						               </a>
						            </span>
						            <span ng-switch-default>
						            	<a ng-show="checkShowItemRow(action, displayedItem)"><i class="action {{action.icon}}" ng-class="action.icon? 'actionIcon':''" ng-click="execute(action, displayedItem)"><span ng-if="!action.icon">{{action.title | translate }}</span></i>
						            	</a>
						            </span>
		                		</ng-switch>
						    </span>
				        </span>
		                <span ng-switch-default class="table-cell-input">
	                		<span ng-repeat="fieldId in field.id track by $index" style="display:inline-block;">
	                			<input-render ng-if="(displayedItem.properties[fieldId] || field.uiInput)" id="fieldId" property="displayedItem.properties[fieldId]" metamodel="field" update-mode="{{field.updateMode}}" on-update="{{field.onUpdate}}" base-url="{{field.baseUrl}}" resources="displayedItem.properties" factory-name="factoryName"></input-render>
	                		</span>
		                </span>
		            </ng-switch>
		            
				</td>
			</tr>
		</tbody>
		<tfoot ng-if="metamodelObject.pagination" class="table-footer">
			<tr>
				<td colspan="{{metamodelObject.properties.length}}" class="no-padding">
					<div class="pull-right" st-pagination=""  st-items-by-page="5"></div>
				</td>
			</tr>
		</tfoot>
	</table>

	<div class="btn-group">
	    <button data-toggle="modal" data-target="#modal_{{metamodelObject.name}}" ng-click="execute(button.action)" class="btn btn-primary btn-mg" ng-disabled="!table.creatable || !button.creatable" ng-repeat="button in buttons">
	    	{{ button.label | translate }}
	    </button>
	</div>

	<popup-render ng-if="modalMetamodelObject" ui-id="modal_{{metamodelObject.name}}" metamodel="metamodelObject.modalRef" resource-url="itemSelected.href" factory-name="factoryName"></popup-render>
</div>