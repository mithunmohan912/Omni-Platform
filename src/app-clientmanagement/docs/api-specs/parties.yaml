swagger: '2.0'
info: 
 title: APIs for basic operations of parties
 version: 1.0.0
schemes:
  - http
  - https
basePath: /omnichannel/v1
produces:
  - application/json
paths:
  "/parties":
    post:
      summary: creates a new client.
      description: creates a new client.
      parameters:
        - in: body
          name: parties
          description: payload for client that need to save.
          required: true
          schema:
            $ref: "#/definitions/parties"
      responses:
        "201":
          description: returns a client that has added.
          schema:
              $ref: "#/definitions/parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    get:
      description: api to get a client identified by firstName and lastName or dob.
      parameters:
        - in: query
          name: firstName
          description: first name of client.
          required: false
          type: string
        - in: query
          name: lastName
          description: last name of client.
          required: false
          type: string
        - in: query
          name: dob
          description: date of birth of client.
          required: false
          type: string  
        - name: _page
          in: query
          type: integer
          description: tags to filter Clients.
          required: false
        - name: _limit
          in: query
          type: integer
          description: tags to filter Clients.
          required: false     
      responses:
        "200":
          description: Returns a list of parties.
          schema:
            type: array
            items:
              $ref: "#/definitions/_parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    options:
      summary: Return schema of the parties.
      description: Return schema of the parties.
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"        
  "/parties/{id}":
    options:
      summary: Return schema of the parties.
      description: Return schema of the parties.
      parameters:
        - in: path
          name: id
          description: id of client.
          required: true
          type: string      
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"        
    get:
      description: api to get a client identified by id.
      parameters:
        - in: path
          name: id
          description: id of client.
          required: true
          type: string
      responses:
        "200":
          description: A client object.
          schema:
            $ref: "#/definitions/_parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    put:
      description: api to update an existing client.
      parameters:
        - in: path
          name: id
          description: id of client.
          required: true
          type: string
        - in: body
          name: parties
          description: payload for client that need to save.
          required: true
          schema:
            $ref: "#/definitions/parties"  
      responses:
        "201":
          description: A client object .
          schema:
            $ref: "#/definitions/parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    patch:
      description: api to update an existing client.
      parameters:
        - in: path
          name: id
          description: ID of client.
          required: true
          type: string
        - in: body
          name: parties
          description: payload for client that need to save.
          required: true
          schema:
            $ref: "#/definitions/parties"  
      responses:
        "201":
          description: A client object .
          schema:
            $ref: "#/definitions/parties"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    delete:
      description: api to delete an existing client.
      parameters:
        - in: path
          name: id
          description: id of client.
          required: true
          type: string
      responses:
        "204":
          description: NO content.
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
  "/parties/{id}/addresses":
    post:
      summary: creates a address for the client.
      description: creates a address for the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: body
          name: addresses
          description: payload for address that need to save.
          required: true
          schema:
            $ref: "#/definitions/addresses"
      responses:
        "201":
          description: returns a address that has added.
          schema:
              $ref: "#/definitions/addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    get:
      description: api to get all addresses of the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - name: _page
          in: query
          type: integer
          description: tags to filter addresses.
          required: false
        - name: _limit
          in: query
          type: integer
          description: tags to filter addresses.
          required: false     
      responses:
        "200":
          description: Returns a list of addresses of the client.
          schema:
            type: array
            items:
              $ref: "#/definitions/_addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"    
    options:
      summary: Return schema of the addresses.
      description: Return schema of the addresses.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"        
  "/parties/{id}/addresses/{id1}":
    options:
      summary: Return schema of the addresses.
      description: Return schema of the addresses.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: address id of address.
          required: true
          type: string        
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    get:
      description: api to get a address identified by address id of the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: address id of address.
          required: true
          type: string  
      responses:
        "200":
          description: Returns address.
          schema:
              $ref: "#/definitions/_addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    put:
      description: api to update an existing address.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of address.
          required: true
          type: string
        - in: body
          name: addresses
          description: payload for address that need to update.
          required: true
          schema:
            $ref: "#/definitions/addresses"  
      responses:
        "201":
          description: A address object.
          schema:
            $ref: "#/definitions/addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    patch:
      description: api to update an existing address.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of address.
          required: true
          type: string
        - in: body
          name: addresses
          description: payload for address that need to update.
          required: true
          schema:
            $ref: "#/definitions/addresses"  
      responses:
        "201":
          description: A address object.
          schema:
            $ref: "#/definitions/addresses"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"      
    delete:
      description: api to delete an existing address.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: ID of address.
          required: true
          type: string
      responses:
        "204":
          description: NO content.
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                          
  "/parties/{id}/emails":
    post:
      summary: creates a email for the client.
      description: creates a email for the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: body
          name: emails
          description: payload for email that need to save.
          required: true
          schema:
            $ref: "#/definitions/emails"
      responses:
        "201":
          description: returns a email that has added.
          schema:
              $ref: "#/definitions/emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    get:
      description: api to get all emails of the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - name: _page
          in: query
          type: integer
          description: tags to filter emails.
          required: false  
        - name: _limit
          in: query
          type: integer
          description: tags to filter emails.
          required: false  
      responses:
        "200":
          description: Returns a list of emails of the client.
          schema:
            type: array
            items:
              $ref: "#/definitions/_emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    options:
      summary: Return schema of the emails.
      description: Return schema of the emails.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"        
  "/parties/{id}/emails/{id1}":
    options:
      summary: Return schema of the emails.
      description: Return schema of the emails.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of email.
          required: true
          type: string          
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"        
    get:
      description: api to get a email identified by email id of the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of email.
          required: true
          type: string
      responses:
        "200":
          description: Returns email.
          schema:
              $ref: "#/definitions/_emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    put:
      description: api to update an existing email.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of email.
          required: true
          type: string
        - in: body
          name: emails
          description: payload for email that need to update.
          required: true
          schema:
            $ref: "#/definitions/emails"  
      responses:
        "201":
          description: A email object.
          schema:
            $ref: "#/definitions/emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    patch:
      description: api to update an existing email.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of email.
          required: true
          type: string
        - in: body
          name: emails
          description: payload for email that need to update.
          required: true
          schema:
            $ref: "#/definitions/emails"  
      responses:
        "201":
          description: A email object.
          schema:
            $ref: "#/definitions/emails"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    delete:
      description: api to delete an existing email.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string  
        - in: path
          name: id1
          description: id of email.
          required: true
          type: string
      responses:
        "204":
          description: NO content.
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                                    
  "/parties/{id}/contacts":
    post:
      summary: creates a contact for the client.
      description: creates a contact for the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: body
          name: contacts
          description: payload for contact that need to save.
          required: true
          schema:
            $ref: "#/definitions/contacts"
      responses:
        "201":
          description: returns a contact that has added.
          schema:
              $ref: "#/definitions/contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    get:
      description: api to get all contacts of the client.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - name: _page
          in: query
          type: integer
          description: tags to filter contacts.
          required: false  
        - name: _limit
          in: query
          type: integer
          description: tags to filter contacts.
          required: false  
      responses:
        "200":
          description: Returns a list of contacts of the client.
          schema:
            type: array
            items:
              $ref: "#/definitions/_contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    options:
      summary: Return schema of the contacts.
      description: Return schema of the contacts.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"        
  "/parties/{id}/contacts/{id1}":
    options:
      summary: Return schema of the contacts.
      description: Return schema of the contacts.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of contact.
          required: true
          type: string
      responses:
        "200":
          description: returns a schema.
          schema:
              $ref: "#/definitions/_contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"          
    get:
      description: api to get a contact identified by contact id.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of contact.
          required: true
          type: string
      responses:
        "200":
          description: Returns contact.
          schema:
              $ref: "#/definitions/_contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
    put:
      description: api to update an existing contact.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of contact.
          required: true
          type: string
        - in: body
          name: contacts
          description: payload for contact that need to update.
          required: true
          schema:
            $ref: "#/definitions/contacts"  
      responses:
        "201":
          description: A contact object.
          schema:
            $ref: "#/definitions/contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    patch:
      description: api to update an existing contact.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of contact.
          required: true
          type: string
        - in: body
          name: contacts
          description: payload for contact that need to update.
          required: true
          schema:
            $ref: "#/definitions/contacts"  
      responses:
        "201":
          description: A contact object.
          schema:
            $ref: "#/definitions/contacts"
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"                
    delete:
      description: api to delete an existing contact.
      parameters:
        - in: path
          name: id
          description: client id of client.
          required: true
          type: string
        - in: path
          name: id1
          description: id of contact.
          required: true
          type: string
      responses:
        "204":
          description: NO content.
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/Error"
definitions:  
  _parties:
    allOf:    
      - $ref: "#/definitions/_link"
      - $ref: "#/definitions/parties"
  _addresses:
    allOf:    
      - $ref: "#/definitions/_link"
      - $ref: "#/definitions/addresses"    
  _emails:
    allOf:    
      - $ref: "#/definitions/_link"
      - $ref: "#/definitions/emails"
  _contacts:
    allOf:    
      - $ref: "#/definitions/_link"
      - $ref: "#/definitions/contacts"
  _link:
    properties:
      self:
        $ref: "#/definitions/hypermedia"    
      next:  
        $ref: "#/definitions/hypermedia"
      prev:  
        $ref: "#/definitions/hypermedia"   
      up:  
        $ref: "#/definitions/hypermedia"     
  hypermedia:
    required:
      - href
    properties:
      title:
        type: string      
      href:
        type: string
      method:
        type: string
      name:
        type: string
      rel:
        type: string
  parties:
    required:
      - firstName
      - lastName
      - type
      - dob
      - gender
      - maritalStatus
    properties:
      id:
        type: string
      firstName:
        type: string
      middleName:
        type: string
      lastName:
        type: string
      type:
        type: string
      title:
        type: string
      dob:
        type: string
      gender:
        type: string
      maritalStatus:
        type: string
      addresses:
        type: array
        items:
          $ref: "#/definitions/addresses"
      emails:
        type: array
        items:
          $ref: "#/definitions/emails"
      contacts:
        type: array
        items:
          $ref: "#/definitions/contacts"          
  addresses:
    required:
      - address
      - postalCode
      - city
      - state
      - country
    properties:
      id:
        type: string
      address:
        type: string
      postalCode:
        type: string
      city:
        type: string
      state:
        type: string
      country:
        type: string
  emails:
    required:
      - email
    properties:
      id:
        type: string
      email:
        type: string  
      email_type:
        type: string  
  contacts:
    required:
      - contact_number
    properties:
      id:
        type: string
      contact_number:
        type: number
      contact_type:
        type: string  
  Error:
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
      fields:
        type: string
